from datetime import date, timedelta
from rich.console import Console
from rich.table import Table

MEAL_PLAN = [ 
    "Яичница с хлебом | Гречка с курицей | Творог с мёдом",
    "Овсянка с бананом | Макароны с тушёнкой | Варёное яйцо + салат",
    "Сырники | Картошка пюре с котлетой | Йогурт + орехи",
    "Хлеб с сыром + чай | Рис с овощами и курицей | Остатки обеда",
    "Омлет с овощами | Гречка + яйцо + салат | Тосты с тунцом",
    "Творог с вареньем | Макароны по-флотски | Салат из капусты",
    "Бутерброды с сыром и колбасой | Картошка с тушёнкой | Кефир + сухари",    
    "Овсянка с яблоком | Перловка с куриными сердечками | Варёные овощи + яйцо",
    "Варёные яйца + хлеб | Макароны с сыром и томатным соусом | Творог с мёдом",
    "Блины (много на 2-3 дня) | Плов с курицей | Блины с творогом",
    "Хлеб с арахисовой пастой | Гречка с тушёнкой | Капустный салат",
    "Омлет с зеленью | Картофельное пюре + жареная печень | Тосты с сыром",
    "Йогурт с мюсли | Булгур с овощами и яйцом | Суп (если остался)",
    "Яичница с луком | Щи/борщ (на 2 дня) | Хлеб + сыр",
    "Овсянка с изюмом | Щи/борщ (остатки) | Яйцо + помидоры",
    "Блины | Макароны с мясным соусом (болоньезе) | Йогурт",
    "Сырники | Рис с овощами и фасолью | Кефир + хлебец",
    "Яйцо вкрутую + хлеб | Жаркое из картошки и мяса | Салат с яйцом",
    "Творог + банан | Макароны с сосисками | Остатки обеда",
    "Бутерброд с тунцом | Пшённая каша с тыквой (или без) | Салат из помидоров и огурцов",
    "Гренки с чесноком | Картофель запечённый с курицей | Кефир + мюсли",
    "Овсянка с мёдом | Перловка с овощами | Варёное яйцо + хлеб",
    "Творожная запеканка | Макароны по-флотски | Остатки запеканки",
    "Омлет | Суп с фрикадельками | Йогурт",
    "Хлеб с маслом и сыром | Картофельное пюре + тушёнка | Яйцо, хлеб, зелень",
    "Овсянка с орехами | Гречка с котлетами | Салат из капусты",
    "Яичница | Макароны с томатной пастой и сыром | Кефир",
    "Тост с арахисовой пастой | Плов | Остатки плова",
    "Творог с ягодами | Рис с куриной грудкой | Варёные овощи",
    "Сырники | Картошка с фаршем | Йогурт или фрукты",
    "День, когда можно всё! | День, когда можно всё! | День, когда можно всё!"
]


def parse_meal_line():
    today = date.today()
    day_of_month = today.day
    meals = MEAL_PLAN
    breakfast, lunch, dinner = meals[day_of_month -1 ].split(" | ")
    return breakfast, lunch, dinner

def parse_meal_line_tomorrow():

    tomorrow = date.today() + timedelta(days=1)
    day_of_month = tomorrow.day

    if day_of_month > len(MEAL_PLAN):
        # если меню не задано на этот день — вернём заглушки
        return "Меню не задано", "Меню не задано", "Меню не задано"

    breakfast, lunch, dinner = MEAL_PLAN[day_of_month - 1].split(" | ")
    return breakfast, lunch, dinner

def print_meal_table(breakfast, lunch, dinner, tomorrow_breakfast, tomorrow_lunch, tomorrow_dinner):
    table = Table(title="Меню питания")

    table.add_column("День", justify="center", style="bold cyan")
    table.add_column("Завтрак", style="green")
    table.add_column("Обед", style="green")
    table.add_column("Ужин", style="green")

    # Добавить строки с меню на сегодня и завтра
    table.add_row("Сегодня", breakfast, lunch, dinner)
    table.add_row("Завтра", tomorrow_breakfast, tomorrow_lunch, tomorrow_dinner)

    console = Console()
    console.print(table)
